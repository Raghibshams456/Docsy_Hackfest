Lab
<Section>
    <!-- {% for data in lab_report %} -->

    <!-- {% endfor %} -->
</Section>

Image
<Section>
    <!-- {% for data in image_report %} -->

    <!-- {% endfor %} -->
    <!-- </div> -->
</Section>


<div>

</div>
<div id="image-report" style="display: none;">
    <p>View Image Report</p>
    <div class="card-group">
        {% for data in image_report %}
        <div class="card canvas_div_pdf">
            <div class="card-body">
                <p class="card-text">{{data.imaging_event}}</p>
                <p class="card-text">{{data.imaging_test_name}}</p>
                <p class="card-text">{{data.imaging_modality}}</p>
                <p class="card-text">{{data.imaging_body_site}}</p>
                <p class="card-text">{{data.imaging_findings}}</p>
                <p class="card-text">{{data.imaging_document}}</p>
            </div>
        </div>
    </div>
    {% endfor %}
</div>


"lab_report":lab_reports, "image_report":image_reports, "doctor_details":doctors_detail



<div>
    <p>View Diagnostics</p>
    <p><span>Patient Name: {{patient_details.name}} </span> <span>Patient Age: {{patient_details.patient_age}}</span></p>
    <!-- <div id="lab-report"> -->
    {% for i in all_details %}
    <div id="lab-report" class="card-group">
        <p>View Lab Report</p>
        <p> Doctor Name: {{i.0.name}}</p>

    </div>
    <!-- </div> -->
    <!-- <div > -->

    <div id="image-report" class="card-group">
        <p>View Image Report</p>
        <p> Doctor Name: {{i.0.name}}</p>
        <!-- <p>{{counter}}</p> -->

    </div>
    {% endfor %}
</div>


<div id="lab-report" class="card-group">
    <p>View Lab Report</p>
    <p> Doctor Name: {{i.0.name}}</p>

</div>

<div id="image-report" class="card-group">
    <p>View Image Report</p>
    <p> Doctor Name: {{i.0.name}}</p>

</div>





'problem_data':problem_data,'medicines_data':medicines_data,







<souvik>
    <div>
        <!-- <p><span>Patient Name: {{patient_details.name}} </span> <span>Patient Age: {{patient_age}}</span></p> -->

        {% for each_data in all_details %}

        <div id="lab-report" class="card-group">
            <div>
                <p>View Lab Report</p><br/>
                <p> Doctor Name: {{each_data.0.name}}</p>
            </div>
            {% for lab in each_data.1 %}
            <div class="card ">
                <div class="card-body canvas_div_pdf ">
                    <div class="canvas_div_pdflabimage"><img src="{{lab.lab_document.url}}" class="card-img-top " alt="Lab Report"></div>
                    <p class="card-text">{{lab.lab_event}}</p>
                    <p class="card-text">{{lab.lab_test_name}}</p>
                    <p class="card-text">{{lab.lab_specimen_type}}</p>
                    <p class="card-text">{{lab.lab_specimen_method}}</p>
                    <p class="card-text">{{lab.lab_specimen_body_site}}</p>
                    <p class="card-text">{{lab.lab_findings}}</p>
                </div>

                <button class="btn btn-success" onclick="getPDF()" id="downloadbtn" style="display: inline-block;"><b>Click to Download lab report</b></button>
                <button class="btn btn-success" onclick="getPDFforlabimage()" id="downloadbtn" style="display: inline-block;"><b>Click to Download Lab report image</b></button>
            </div>
            {% endfor %}

        </div>

        <div id="image-report" class="card-group">
            <div>
                <p>View Image Report</p>
                <p> Doctor Name: {{each_data.0.name}}</p>
            </div>
            {% for image in each_data.2 %}
            <div class="card ">
                <div class="card-body canvas_div_pdfimagereport">
                    <div class="canvas_div_pdfimage">
                        <img src="{{image.imaging_document.url}}" class="card-img-top" alt="Lab Report">
                    </div>
                    <p class="card-text">{{image.imaging_event}}</p>
                    <p class="card-text">{{image.imaging_test_name}}</p>
                    <p class="card-text">{{image.imaging_modality}}</p>
                    <p class="card-text">{{image.imaging_body_site}}</p>
                    <p class="card-text">{{image.imaging_findings}}</p>
                    <p class="card-text">{{image.imaging_document}}</p>

                    <div>
                        <button onclick="getPDF()" id="downloadbtn" style="display: inline-block;"><b>Click to Download HTML as PDF</b></button>
                        <button onclick="getPDF()" id="downloadbtn" style="display: inline-block;"><b>Click to Download HTML as PDF</b></button>
                    </div>
                </div>
            </div>

            {% endfor %}
        </div>
        {% endfor %}
    </div>


    </div>
    <script>
        var coll = document.getElementsByClassName("collapsible");
        var i;

        for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.display === "block") {
                    content.style.display = "none";
                } else {
                    content.style.display = "block";
                }
            });
        }
    </script>
</souvik>

<td><a href="imageView/{{image.imaging_document}}">View Report</a></td>
{"imagepath":imagepath, "dirname":dirname, "data":data}

<p><span class="font-weight-bold"> problem Body Site: </span><span class="initialism mx-1"> {{each_data.0.problem_body_site}}</span></p>







<souvik2 class="DataTable">

    <div id="example1_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer">
        <div class="row">
            <div class="col-sm-12 col-md-6">
                <div class="dataTables_length" id="example1_length"><label>Show <select name="example1_length" aria-controls="example1" class="form-control form-control-sm"><option value="3">3</option><option value="5">5</option><option value="10">10</option><option value="25">25</option></select> entries</label></div>
            </div>
            <div class="col-sm-12 col-md-6">
                <div id="example1_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="example1"></label></div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <table id="example1" class="table table-striped table-bordered dataTable no-footer" style="width: 100%;" role="grid" aria-describedby="example1_info">
                    <thead>
                        <tr role="row">
                            <td class="sorting_asc" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" aria-sort="ascending" aria-label="
                
                    PatientID
                
            : activate to sort column descending" style="width: 89px;">
                                <div class="text-center">
                                    PatientID
                                </div>
                            </td>
                            <td class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" aria-label="
                
                    PatientName
                
            : activate to sort column ascending" style="width: 124px;">
                                <div class="text-center">
                                    PatientName
                                </div>
                            </td>
                            <td class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" aria-label="
                
                    Patient Problem
                
            : activate to sort column ascending" style="width: 151px;">
                                <div class="text-center">
                                    Patient Problem
                                </div>
                            </td>
                            <td class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" aria-label="
                
                    Appointment time
                
            : activate to sort column ascending" style="width: 221px;">
                                <div class="text-center">
                                    Appointment time
                                </div>
                            </td>
                            <td class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" aria-label="
                
                    Add Prescription
                
            : activate to sort column ascending" style="width: 132px;">
                                <div class="text-center">
                                    Add Prescription
                                </div>
                            </td>
                            <td class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" aria-label="
                
                    Diagnostic Report
                
            : activate to sort column ascending" style="width: 132px;">
                                <div class="text-center">
                                    Diagnostic Report
                                </div>
                            </td>
                            <td class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" aria-label="
                
                    View
                
            : activate to sort column ascending" style="width: 132px;">
                                <div class="text-center">
                                    View
                                </div>
                            </td>
                            <td class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1" aria-label="
                
                    Status
                
            : activate to sort column ascending" style="width: 132px;">
                                <div class="text-center">
                                    Status
                                </div>
                            </td>
                        </tr>
                    </thead>
                    <tbody>



                        <tr role="row" class="odd">
                            <td class="sorting_1">
                                <div class="text-center">
                                    1
                                </div>
                            </td>
                            <td>
                                <div class="text-center">
                                    Souvik
                                </div>
                            </td>
                            <td>
                                <div class="text-center">
                                    Headache
                                </div>
                            </td>
                            <td>
                                <div class="text-center">
                                    Jan. 15, 2022, 1:17 a.m.
                                </div>
                            </td>
                            <td width="150">
                                <div class="text-center">
                                    <a href="/prescription/1/1" class="btn-success btn" style="font-size: 12px;;">Add prescription</a>
                                </div>
                            </td>
                            <td width="150">
                                <div class="text-center">
                                    <a href="add_reports/1/1" class="btn-success btn" style="font-size: 12px;;">Add Reports</a>
                                </div>
                            </td>
                            <td width="150">
                                <div class="text-center">
                                    <a href="patientSummaryView/1/1" class="btn-warning btn" style="font-size: 12px;;">View Medical data</a>
                                </div>
                            </td>
                            <td width="150">
                                <div class="text-center">
                                    <a href="checkstatus/1/1" class="btn-danger btn" style="font-size: 12px;;">Mark as done</a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 col-md-5">
                <div class="dataTables_info" id="example1_info" role="status" aria-live="polite">Showing 1 to 1 of 1 entries</div>
            </div>
            <div class="col-sm-12 col-md-7">
                <div class="dataTables_paginate paging_simple_numbers" id="example1_paginate">
                    <ul class="pagination">
                        <li class="paginate_button page-item previous disabled" id="example1_previous"><a href="#" aria-controls="example1" data-dt-idx="0" tabindex="0" class="page-link">Previous</a></li>
                        <li class="paginate_button page-item active"><a href="#" aria-controls="example1" data-dt-idx="1" tabindex="0" class="page-link">1</a></li>
                        <li class="paginate_button page-item next disabled" id="example1_next"><a href="#" aria-controls="example1" data-dt-idx="2" tabindex="0" class="page-link">Next</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</souvik2>

<b class="btn btn-danger btn-sm" style="float:right;" onclick="deleterow(` + c + `)"><span style="color:white;">×</span></b>




<kirti class="Download in PDF">
    <script>
        function getPDF() {
            var HTML_Width = $(".canvas_div_pdf").width();
            var HTML_Height = $(".canvas_div_pdf").height();
            var top_left_margin = 15;
            var PDF_Width = HTML_Width + (top_left_margin * 2);
            var PDF_Height = (PDF_Width * 1.5) + (top_left_margin * 2);
            var canvas_image_width = HTML_Width;
            var canvas_image_height = HTML_Height;

            var totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1;


            html2canvas($(".canvas_div_pdf")[0], {
                allowTaint: true
            }).then(function(canvas) {
                canvas.getContext('2d');

                console.log(canvas.height + "  " + canvas.width);


                var imgData = canvas.toDataURL("image/jpeg", 1.0);
                var pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height]);
                pdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin, canvas_image_width, canvas_image_height);


                for (var i = 1; i <= totalPDFPages; i++) {
                    pdf.addPage(PDF_Width, PDF_Height);
                    pdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height * i) + (top_left_margin * 4), canvas_image_width, canvas_image_height);
                }

                pdf.save("HTML-Document.pdf");
            });
        };

        function getPDFforlabimage() {
            var HTML_Width = $(".canvas_div_pdflabimage").width();
            var HTML_Height = $(".canvas_div_pdflabimage").height();
            var top_left_margin = 15;
            var PDF_Width = HTML_Width + (top_left_margin * 2);
            var PDF_Height = (PDF_Width * 1.5) + (top_left_margin * 2);
            var canvas_image_width = HTML_Width;
            var canvas_image_height = HTML_Height;

            var totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1;


            html2canvas($(".canvas_div_pdflabimage")[0], {
                allowTaint: true
            }).then(function(canvas) {
                canvas.getContext('2d');

                console.log(canvas.height + "  " + canvas.width);


                var imgData = canvas.toDataURL("image/jpeg", 1.0);
                var pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height]);
                pdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin, canvas_image_width, canvas_image_height);


                for (var i = 1; i <= totalPDFPages; i++) {
                    pdf.addPage(PDF_Width, PDF_Height);
                    pdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height * i) + (top_left_margin * 4), canvas_image_width, canvas_image_height);
                }

                pdf.save("HTML-Document.pdf");
            });
        };

        function getPDFforimagereport() {
            var HTML_Width = $(".canvas_div_pdfimagereport").width();
            var HTML_Height = $(".canvas_div_pdfimagereport").height();
            var top_left_margin = 15;
            var PDF_Width = HTML_Width + (top_left_margin * 2);
            var PDF_Height = (PDF_Width * 1.5) + (top_left_margin * 2);
            var canvas_image_width = HTML_Width;
            var canvas_image_height = HTML_Height;

            var totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1;


            html2canvas($(".canvas_div_pdfimagereport")[0], {
                allowTaint: true
            }).then(function(canvas) {
                canvas.getContext('2d');

                console.log(canvas.height + "  " + canvas.width);


                var imgData = canvas.toDataURL("image/jpeg", 1.0);
                var pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height]);
                pdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin, canvas_image_width, canvas_image_height);


                for (var i = 1; i <= totalPDFPages; i++) {
                    pdf.addPage(PDF_Width, PDF_Height);
                    pdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height * i) + (top_left_margin * 4), canvas_image_width, canvas_image_height);
                }

                pdf.save("HTML-Document.pdf");
            });
        };

        function getPDFforimage() {
            var HTML_Width = $(".canvas_div_pdfimage").width();
            var HTML_Height = $(".canvas_div_pdfimage").height();
            var top_left_margin = 15;
            var PDF_Width = HTML_Width + (top_left_margin * 2);
            var PDF_Height = (PDF_Width * 1.5) + (top_left_margin * 2);
            var canvas_image_width = HTML_Width;
            var canvas_image_height = HTML_Height;

            var totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1;


            html2canvas($(".canvas_div_pdfimage")[0], {
                allowTaint: true
            }).then(function(canvas) {
                canvas.getContext('2d');

                console.log(canvas.height + "  " + canvas.width);


                var imgData = canvas.toDataURL("image/jpeg", 1.0);
                var pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height]);
                pdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin, canvas_image_width, canvas_image_height);


                for (var i = 1; i <= totalPDFPages; i++) {
                    pdf.addPage(PDF_Width, PDF_Height);
                    pdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height * i) + (top_left_margin * 4), canvas_image_width, canvas_image_height);
                }

                pdf.save("HTML-Document.pdf");
            });
        };
    </script>
</kirti>