<!DOCTYPE html>
<html lang="en">

    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.3/jspdf.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
   
        <!-- <link rel="stylesheet" href="style.css"> -->
        <title>Patient Appointment</title>
    
        <style>
    
      /* form styling */
    
      .card {
        padding: 30px 40px;
        margin-top: 60px;
        margin-bottom: 60px;
        border: none !important;
        box-shadow: 0 6px 12px 0 rgba(0, 0, 0, 0.2)
    }
    
    .blue-text {
        color: #00BCD4
    }
    
    .form-control-label {
        margin-bottom: 0;
    }

    /* .form-control{
        width: 40%;
        align-items: center;
    } */
    
    input,
    select,
    textarea,
    button {
        padding: 8px 15px;
        width:100%;
        border-radius: 5px !important;
        margin: 5px 0px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        font-size: 18px !important;
        font-weight: 300
    }
    
    input:focus,
    select:focus
    textarea:focus {
        -moz-box-shadow: none !important;
        -webkit-box-shadow: none !important;
        box-shadow: none !important;
        border: 1px solid #00BCD4;
        outline-width: 0;
        font-weight: 400
    }
    
    .btn-block {
        text-transform: uppercase;
        font-size: 15px !important;
        font-weight: 400;
        height: 43px;
        cursor: pointer
    }
    
    .btn-block:hover {
        color: #fff !important
    }
    
    button:focus {
        -moz-box-shadow: none !important;
        -webkit-box-shadow: none !important;
        box-shadow: none !important;
        outline-width: 0
    }
    .out_button{
        background-color: pink;
        color: #00BCD4;
    }
    .out_button:hover{
        background-color: #00BCD4;
        color: white;
    }
      /* form styling end */
      
        </style>
      </head>
    
<body>
    <!-- partial:index.partial.html -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    
<script>
    function getSpecs(form1) {
        var specalization = document.getElementById('specalization').value;
        // alert(specalization);
        var el = document.getElementsByName("csrfmiddlewaretoken");
        csrf_value = el[0].getAttribute("value");

        $.ajax({
                type: 'post',
                url: "{% url 'getspecialiseddoctor' %}",
                data: {
                    spec:specalization,
                    csrfmiddlewaretoken: csrf_value
                },
                success: function(response) {
                    // alert(response)
                    document.getElementById('Doctor').innerHTML=response;
                 }
            });
    }
</script> 
<div class="page-wrapper">
    <div class="container-fluid px-1 py-5 mx-auto">
        <div class="row d-flex justify-content-center">

            <div class="col-xl-7 col-lg-8 col-md-9 col-11 text-left">

           
                <div class="card">
                    <center><h3>Take Appointment </h3> </center><br>
                    <form class="form-card" method="POST" action="{% url 'patientAppointmentBackend' %}">
                        {% csrf_token %}
                        <div class="form-group">

                            <label class="form-control-label" for="id_appointment"></label>
                            <b>Choose specalist</b>
                            <div class="control-label">
                                <select name="specalization" placeholder="Choose specalization" class=" form-control" required="" id="specalization" onchange="getSpecs()">
                                    <option value="">choose specalization</option>
                            

                                    {% for i in all_specialization %}
                                    <option value="{{i.specalist}}">{{i.specalist}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="control-label  " for="id_appointment"><b>Choose Your Doctor</b></label>
                            <div>
                                <select name="Doctor" placeholder="Choose Your Doctor" class=" form-control" required="" id="Doctor">
                                    <option value="">choose Doctor</option>
                                </select>
                            </div>
                        </div>
                        <br>
                        <div class="form-group">

                            <label for="appointmentTime"><b>Appointment (date and time):</b></label><br>
                            <div>
                                <input type="datetime-local" id="appointmentTime" name="appointmentTime">
                            </div>
                            
                        </div>
                        <br>
                        <div class="form-group">
                            <label class="control-label " for="disease"><b>Describe problem</b></label>
                            <div>
                                <input type="text" name="disease" id="disease" cols="30" rows="10">
                            </div>

                          
                        </div>
                        
                        <div class="row form-group" style="float: center;">
                           
                            <div class="col-md-4" style="float:right;;">
                                <input  type="submit" value="Book Appointment" class="btn btn-success">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div> 
</body>

<script>
    // var today = new Date().toISOString().split('T')[0];
    // document.getElementsByName("appointmentTime").innerHTML=today;

//     var today = new Date();
// var dd = today.getDate();
// var mm = today.getMonth() + 1; //January is 0!
// var yyyy = today.getFullYear();

// if (dd < 10) {
//    dd = '0' + dd;
// }

// if (mm < 10) {
//    mm = '0' + mm;
// } 
    
// today = yyyy + '-' + mm + '-' + dd;

// var today = new Date().toISOString().split('T')[0];
// var today="25-01-2022"
// alert(today)
// document.getElementById("appointmentTime").setAttribute("min", today);
</script>
<script>
    function myFunction() {
        let text="Are you sure taking  this appointment?";

        if (confirm(text) == true)
           return true
        else
            return false
    }
</script>

</body>
</html>